<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Iteradores</title>
</head>
<body>
	<script type="text/javascript">
		//los iteradores nos permiten escribir listas de datos infinitas
		function fibonacci () {
			let a = 0, b = 1
			//closure: funcion interna
			return {
				next: function () {
					//done es si la lista se termina o no, aqui se puede escribir esa comprobacion
					let f = a
					a = b
					b = f + b
					console.log(`a es: ${a}, b es: ${b}, y f es: ${f}`)
					return { value: f, done: false }
				}
			}
		}

		//const fibo = fibonacci()
		// for (var i = 0; i < 10; i++) {
		// 	document.write(`<p></p> ${fibo.next().value}`)
		// }

		//solo con esta estructura podemos acceder a fibo.next en el for
		const fibo = {}
		//los conrchetes indican que nos vamos a dirigir a una propiedad del objeto
		fibo[Symbol.iterator] = fibonacci

		let i = 0
		//el ciclo for se encarga de llamar al next de fibo
		for(let value of fibo) {
			document.write(`<p></p> ${value}`)
			i++
			if(i > 20) break
		}
	</script>
</body>
</html>